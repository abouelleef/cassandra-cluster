CREATE KEYSPACE ks1 WITH durable_writes = true AND replication = { 'class' : 'SimpleStrategy', 'replication_factor' : 1 }; CREATE TABLE ks1.batches( "mediaID" text, "mediaQuery" text, PRIMARY KEY ("mediaID")) WITH bloom_filter_fp_chance = 0.01 AND comment = '' AND crc_check_chance = 1.0 AND dclocal_read_repair_chance = 0.1 AND default_time_to_live = 0 AND gc_grace_seconds = 864000 AND max_index_interval = 2048 AND memtable_flush_period_in_ms = 0 AND min_index_interval = 128 AND read_repair_chance = 0.0 AND speculative_retry = '99.0PERCENTILE' AND caching = { 'keys' : 'ALL', 'rows_per_partition' : 'NONE' } AND compression = { 'chunk_length_in_kb' : 64, 'class' : 'LZ4Compressor', 'enabled' : true } AND compaction = { 'class' : 'SizeTieredCompactionStrategy', 'max_threshold' : 32, 'min_threshold' : 4 }; CREATE TABLE ks1.configurations ( media text, attributes MAP<text, text>, PRIMARY KEY (media) ) WITH bloom_filter_fp_chance = 0.01 AND comment = '' AND crc_check_chance = 1.0 AND dclocal_read_repair_chance = 0.1 AND default_time_to_live = 0 AND gc_grace_seconds = 864000 AND max_index_interval = 2048 AND memtable_flush_period_in_ms = 0 AND min_index_interval = 128 AND read_repair_chance = 0.0 AND speculative_retry = '99.0PERCENTILE' AND caching = { 'keys' : 'ALL', 'rows_per_partition' : 'NONE' } AND compression = { 'chunk_length_in_kb' : 64, 'class' : 'LZ4Compressor', 'enabled' : true } AND compaction = { 'class' : 'SizeTieredCompactionStrategy', 'max_threshold' : 32, 'min_threshold' : 4 }; CREATE TABLE ks1.interactions ( id text, contactid text, content text, enddate text, enddatems bigint, interactionattributes MAP<text, text>, interactionsubtype text, interactiontype text, mediatype text, ownerid text, parentid text, startdate text, startdatems bigint, stratio_col text, subject text, tenantid int, threadid text, PRIMARY KEY (id) ) WITH bloom_filter_fp_chance = 0.01 AND comment = '' AND crc_check_chance = 1.0 AND dclocal_read_repair_chance = 0.1 AND default_time_to_live = 0 AND gc_grace_seconds = 864000 AND max_index_interval = 2048 AND memtable_flush_period_in_ms = 0 AND min_index_interval = 128 AND read_repair_chance = 0.0 AND speculative_retry = '99.0PERCENTILE' AND caching = { 'keys' : 'ALL', 'rows_per_partition' : 'NONE' } AND compression = { 'chunk_length_in_kb' : 64, 'class' : 'LZ4Compressor', 'enabled' : true } AND compaction = { 'class' : 'SizeTieredCompactionStrategy', 'max_threshold' : 32, 'min_threshold' : 4 }; CREATE INDEX end ON ks1.interactions (enddate); CREATE INDEX interactionattributes_idx ON ks1.interactions (ENTRIES (interactionattributes)); CREATE INDEX owner_index ON ks1.interactions (ownerid); CREATE CUSTOM INDEX interactions_search ON ks1.interactions (stratio_col) USING 'com.stratio.cassandra.lucene.Index' WITH OPTIONS = { 'schema' : '{ fields: { id: {type: "string"}, contactid: {type: "string"}, content: {type: "string"}, enddate: {type: "date"}, interactionsubtype: {type: "string"}, interactiontype: {type: "string"}, mediatype: {type: "string"}, ownerid: {type: "string"}, parentid: {type: "string"}, startdate: {type: "date"}, stratio_col: {type: "string"}, subject: {type: "string"}, tenantid: {type: "integer"}, threadid: {type: "string"} } }' }; CREATE INDEX "interactionTenantID" ON ks1.interactions (tenantid); CREATE TABLE ks1.agents ( dbid int, emailaddress text, empid text, firstname text, lastname text, skills MAP<text, int>, tenantid int, username text, PRIMARY KEY (dbid) ) WITH bloom_filter_fp_chance = 0.01 AND comment = '' AND crc_check_chance = 1.0 AND dclocal_read_repair_chance = 0.1 AND default_time_to_live = 0 AND gc_grace_seconds = 864000 AND max_index_interval = 2048 AND memtable_flush_period_in_ms = 0 AND min_index_interval = 128 AND read_repair_chance = 0.0 AND speculative_retry = '99.0PERCENTILE' AND caching = { 'keys' : 'ALL', 'rows_per_partition' : 'NONE' } AND compression = { 'chunk_length_in_kb' : 64, 'class' : 'LZ4Compressor', 'enabled' : true } AND compaction = { 'class' : 'SizeTieredCompactionStrategy', 'max_threshold' : 32, 'min_threshold' : 4 }; 